<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plane Crash - Ù„Ø¹Ø¨Ø© Ø§Ù„Ø·Ø§Ø¦Ø±Ø©</title>
    <style>
        /* Reset & Base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a1931 0%, #1a1a2e 100%);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Game Container */
        .game-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .game-header {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            padding: 15px 25px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: #00ff88;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .live-stats {
            display: flex;
            gap: 30px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-label {
            font-size: 12px;
            color: #aaa;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 18px;
            font-weight: bold;
            color: #fff;
        }

        .stat-value.amount {
            color: #00ff88;
        }

        .stat-value.players {
            color: #ff9900;
        }

        /* Main Layout */
        .main-layout {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 20px;
        }

        /* Left Column - Game */
        .game-section {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Multiplier Display */
        .multiplier-container {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            margin-bottom: 20px;
            border: 2px solid rgba(0, 255, 136, 0.3);
            position: relative;
            overflow: hidden;
        }

        .multiplier-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #00ff88, #0099ff);
        }

        .multiplier-label {
            font-size: 18px;
            color: #aaa;
            margin-bottom: 10px;
        }

        .multiplier-value {
            font-size: 72px;
            font-weight: bold;
            background: linear-gradient(45deg, #00ff88, #0099ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 20px rgba(0, 255, 136, 0.3);
            transition: all 0.1s ease;
        }

        /* Game Area */
        .game-area {
            background: rgba(10, 15, 30, 0.8);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            min-height: 200px;
            position: relative;
            overflow: hidden;
        }

        .plane-path {
            width: 100%;
            height: 150px;
            position: relative;
            background: linear-gradient(to bottom, rgba(0, 50, 100, 0.3), transparent);
            border-radius: 10px;
            overflow: hidden;
        }

        .path-line {
            position: absolute;
            left: 0;
            right: 0;
            top: 50%;
            height: 2px;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 136, 0.5), transparent);
            transform: translateY(-50%);
        }

        .plane {
            position: absolute;
            left: -50px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 40px;
            color: #00ff88;
            filter: drop-shadow(0 0 10px rgba(0, 255, 136, 0.5));
            transition: left 0.1s linear;
        }

        /* Bet Controls */
        .bet-controls {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 20px;
        }

        .bet-amount-container {
            margin-bottom: 20px;
        }

        .bet-amount-label {
            font-size: 14px;
            color: #aaa;
            margin-bottom: 10px;
        }

        .quick-bets {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .quick-bet {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            color: white;
            font-size: 14px;
        }

        .quick-bet:hover {
            background: rgba(0, 255, 136, 0.2);
            border-color: #00ff88;
        }

        .custom-bet {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .custom-bet input {
            flex: 1;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            padding: 12px;
            color: white;
            font-size: 16px;
            text-align: center;
        }

        .auto-cashout {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 10px;
        }

        .auto-cashout-label {
            color: #aaa;
            font-size: 14px;
        }

        .auto-cashout-value {
            background: rgba(0, 255, 136, 0.2);
            border: 1px solid #00ff88;
            border-radius: 20px;
            padding: 8px 20px;
            color: #00ff88;
            font-weight: bold;
            font-size: 16px;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
        }

        .btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-bet {
            background: linear-gradient(135deg, #00ff88, #009900);
            color: white;
        }

        .btn-bet:hover {
            background: linear-gradient(135deg, #00cc66, #007700);
            transform: translateY(-2px);
        }

        .btn-cashout {
            background: linear-gradient(135deg, #ff9900, #ff6600);
            color: white;
        }

        .btn-cashout:hover {
            background: linear-gradient(135deg, #cc7700, #cc4400);
            transform: translateY(-2px);
        }

        .btn-cashout:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        /* Right Column - Info */
        .info-section {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .total-info {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .total-label {
            color: #aaa;
            font-size: 14px;
        }

        .total-value {
            font-size: 24px;
            font-weight: bold;
            color: #00ff88;
        }

        .bets-table {
            width: 100%;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .table-header {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            background: rgba(0, 0, 0, 0.4);
            padding: 15px;
            font-weight: bold;
            color: #aaa;
            font-size: 14px;
            text-align: center;
        }

        .table-row {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            padding: 12px 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            align-items: center;
            text-align: center;
        }

        .table-row:last-child {
            border-bottom: none;
        }

        .user-avatar {
            width: 30px;
            height: 30px;
            background: linear-gradient(135deg, #0099ff, #00ff88);
            border-radius: 50%;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }

        /* Timer */
        .timer {
            text-align: center;
            margin-top: 20px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }

        .timer-label {
            color: #aaa;
            font-size: 14px;
            margin-bottom: 5px;
        }

        .timer-value {
            font-size: 28px;
            font-weight: bold;
            color: #ff9900;
        }

        /* History */
        .history-section {
            margin-top: 20px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
        }

        .history-title {
            font-size: 16px;
            color: #aaa;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .history-items {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .history-item {
            background: rgba(255, 0, 0, 0.2);
            border: 1px solid rgba(255, 0, 0, 0.3);
            border-radius: 8px;
            padding: 8px 15px;
            font-size: 14px;
            font-weight: bold;
            color: #ff4444;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .main-layout {
                grid-template-columns: 1fr;
            }
            
            .multiplier-value {
                font-size: 48px;
            }
        }

        @media (max-width: 768px) {
            .quick-bets {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .multiplier-value {
                font-size: 36px;
            }
            
            .game-header {
                flex-direction: column;
                gap: 15px;
            }
            
            .live-stats {
                flex-wrap: wrap;
                justify-content: center;
            }
        }

        /* Animations */
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }

        @keyframes takeoff {
            0% { left: -50px; }
            100% { left: 100%; }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        /* Game States */
        .game-waiting .btn-bet {
            background: linear-gradient(135deg, #00ff88, #009900);
        }

        .game-waiting .btn-cashout {
            background: #666;
        }

        .game-running .btn-bet {
            background: #666;
        }

        .game-running .btn-cashout {
            background: linear-gradient(135deg, #ff9900, #ff6600);
        }

        .game-crashed .multiplier-value {
            color: #ff4444 !important;
            background: linear-gradient(45deg, #ff4444, #ff9900) !important;
            -webkit-background-clip: text !important;
            -webkit-text-fill-color: transparent !important;
        }

        /* Next Round Info */
        .next-round-info {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            text-align: center;
        }

        .next-round-label {
            color: #aaa;
            font-size: 14px;
            margin-bottom: 5px;
        }

        .next-round-value {
            font-size: 18px;
            font-weight: bold;
            color: #00ff88;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <!-- Header -->
        <div class="game-header">
            <div class="logo">
                âœˆï¸ Plane Crash
            </div>
            <div class="live-stats">
                <div class="stat-item">
                    <div class="stat-label">Ø§Ù„Ù…Ø¶Ø§Ø¹Ù Ø§Ù„Ø­Ø§Ù„ÙŠ</div>
                    <div class="stat-value" id="currentMultiplierText">1.00x</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø±Ù‡Ø§Ù†Ø§Øª</div>
                    <div class="stat-value amount" id="totalBets">498,567.96 â–²</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Ø§Ù„Ù„Ø§Ø¹Ø¨ÙˆÙ† Ø§Ù„Ù†Ø´Ø·ÙˆÙ†</div>
                    <div class="stat-value players" id="activePlayersCount">25,544</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Ø§Ù„Ø±Ù‡Ø§Ù† Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ</div>
                    <div class="stat-value" id="myBet">0</div>
                </div>
            </div>
        </div>

        <!-- Main Layout -->
        <div class="main-layout">
            <!-- Left Column - Game -->
            <div class="game-section">
                <!-- Multiplier Display -->
                <div class="multiplier-container">
                    <div class="multiplier-label">Ø§Ù„Ù…Ø¶Ø§Ø¹Ù Ø§Ù„Ø­Ø§Ù„ÙŠ</div>
                    <div class="multiplier-value" id="currentMultiplier">1.00x</div>
                </div>

                <!-- Game Area -->
                <div class="game-area">
                    <div class="plane-path">
                        <div class="path-line"></div>
                        <div class="plane" id="plane">âœˆï¸</div>
                    </div>
                </div>

                <!-- Bet Controls -->
                <div class="bet-controls">
                    <div class="bet-amount-container">
                        <div class="bet-amount-label">Ù…Ø¨Ù„Øº Ø§Ù„Ø±Ù‡Ø§Ù†</div>
                        <div class="quick-bets">
                            <div class="quick-bet" onclick="setBetAmount(20)">20</div>
                            <div class="quick-bet" onclick="setBetAmount(50)">50</div>
                            <div class="quick-bet" onclick="setBetAmount(100)">100</div>
                            <div class="quick-bet" onclick="setBetAmount(1000)">1,000</div>
                            <div class="quick-bet" onclick="setBetAmount(5000)">5,000</div>
                        </div>
                        <div class="custom-bet">
                            <input type="number" id="betAmount" value="100" min="20" step="10">
                            <button class="btn btn-bet" onclick="placeBet()" id="placeBetBtn">
                                ğŸ’¸ ÙˆØ¶Ø¹ Ø§Ù„Ø±Ù‡Ø§Ù†
                            </button>
                        </div>
                    </div>

                    <div class="auto-cashout">
                        <div class="auto-cashout-label">Ø§Ù„Ø³Ø­Ø¨ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ</div>
                        <div class="auto-cashout-value" id="autoCashoutValue">2.0x</div>
                        <input type="range" id="autoCashoutSlider" min="1.1" max="10" step="0.1" value="2" style="flex: 1;">
                    </div>

                    <div class="action-buttons">
                        <button class="btn btn-cashout" onclick="cashout()" id="cashoutBtn" disabled>
                            ğŸ’° Ø§Ù„Ø³Ø­Ø¨ Ø§Ù„Ø¢Ù†
                        </button>
                        <button class="btn btn-bet" onclick="autoBet()" id="autoBetBtn">
                            ğŸ”„ Ø§Ù„Ø±Ù‡Ø§Ù† Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
                        </button>
                    </div>
                </div>

                <!-- Next Round Timer -->
                <div class="next-round-info">
                    <div class="next-round-label">Ø§Ù„Ø¬ÙˆÙ„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ© ØªØ¨Ø¯Ø£ Ø®Ù„Ø§Ù„</div>
                    <div class="next-round-value" id="nextRoundTimer">5 Ø«ÙˆØ§Ù†ÙŠ</div>
                </div>
            </div>

            <!-- Right Column - Info -->
            <div class="info-section">
                <!-- Total Info -->
                <div class="total-info">
                    <div class="total-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø±Ù‡Ø§Ù†Ø§Øª</div>
                    <div class="total-value">498,567.96 â–²</div>
                </div>

                <!-- Live Bets Table -->
                <div class="bets-table">
                    <div class="table-header">
                        <div>Ø§Ù„Ø§Ø³Ù…</div>
                        <div>Ø§Ù„Ø±Ù‡Ø§Ù†</div>
                        <div>Ø§Ù„Ø±Ø¨Ø­</div>
                    </div>
                    <div id="betsTableBody">
                        <!-- Bets will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Timer -->
                <div class="timer">
                    <div class="timer-label">Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ</div>
                    <div class="timer-value" id="gameTimer">0:05</div>
                </div>

                <!-- Recent Crashes -->
                <div class="history-section">
                    <div class="history-title">Ø¢Ø®Ø± Ø§Ù„Ø§Ù†ÙØ¬Ø§Ø±Ø§Øª</div>
                    <div class="history-items" id="crashHistory">
                        <!-- History will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
        let gameState = 'waiting'; // waiting, running, crashed
        let currentMultiplier = 1.00;
        let targetMultiplier = 0;
        let userBet = 0;
        let userBalance = 10000;
        let isAutoBet = false;
        let autoCashoutValue = 2.0;
        let gameInterval;
        let countdownInterval;
        let timeRemaining = 5;
        let roundId = 1;

        // Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ù‡Ø§Ù†Ø§Øª Ø§Ù„Ø­ÙŠØ©
        let liveBets = [
            { username: '53******', bet: 8079.68, profit: 1260.49, avatar: '53' },
            { username: '47******', bet: 5244.51, profit: 993.28, avatar: '47' },
            { username: '99******', bet: 1020.34, profit: 563.73, avatar: '99' },
            { username: '35******', bet: 543.04, profit: 484.87, avatar: '35' },
            { username: '63******', bet: 1968.95, profit: 434.65, avatar: '63' },
            { username: '61******', bet: 748.52, profit: 404.61, avatar: '61' },
            { username: '41******', bet: 1353.67, profit: 363.90, avatar: '41' },
            { username: '91******', bet: 1637.69, profit: 347.71, avatar: '91' }
        ];

        // ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ÙØ¬Ø§Ø±Ø§Øª
        let crashHistory = [12.46, 3.21, 1.45, 8.92, 2.67, 5.34, 1.89, 4.56, 7.23, 2.12];

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', function() {
            updateDisplay();
            populateBetsTable();
            populateCrashHistory();
            updateGameTimer();
            startCountdown();

            // ØªØ­Ø¯ÙŠØ« Ù‚ÙŠÙ…Ø© Ø§Ù„Ø³Ø­Ø¨ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
            document.getElementById('autoCashoutSlider').addEventListener('input', function() {
                autoCashoutValue = parseFloat(this.value);
                document.getElementById('autoCashoutValue').textContent = autoCashoutValue.toFixed(1) + 'x';
            });
        });

        // ØªØ¹ÙŠÙŠÙ† Ù…Ø¨Ù„Øº Ø§Ù„Ø±Ù‡Ø§Ù†
        function setBetAmount(amount) {
            if (gameState === 'waiting') {
                document.getElementById('betAmount').value = amount;
            }
        }

        // ÙˆØ¶Ø¹ Ø§Ù„Ø±Ù‡Ø§Ù†
        function placeBet() {
            if (gameState !== 'waiting') {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ø­ØªÙ‰ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø¬ÙˆÙ„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©');
                return;
            }

            const betAmount = parseFloat(document.getElementById('betAmount').value);
            
            if (betAmount < 20) {
                alert('Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø±Ù‡Ø§Ù† Ù‡Ùˆ 20');
                return;
            }

            if (betAmount > userBalance) {
                alert('Ø±ØµÙŠØ¯Ùƒ ØºÙŠØ± ÙƒØ§ÙÙŠ');
                return;
            }

            userBet = betAmount;
            userBalance -= betAmount;
            gameState = 'running';
            
            // Ø¥Ø¶Ø§ÙØ© Ø±Ù‡Ø§Ù† Ø­ÙŠ
            liveBets.unshift({
                username: 'Ø£Ù†Øª',
                bet: betAmount,
                profit: 0,
                avatar: 'ME'
            });

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
            document.getElementById('placeBetBtn').disabled = true;
            document.getElementById('cashoutBtn').disabled = false;
            document.getElementById('myBet').textContent = betAmount.toLocaleString();
            
            // Ø¨Ø¯Ø£ Ø§Ù„Ø¬ÙˆÙ„Ø©
            startGameRound();
            
            updateDisplay();
            populateBetsTable();
        }

        // Ø¨Ø¯Ø£ Ø¬ÙˆÙ„Ø© Ø¬Ø¯ÙŠØ¯Ø©
        function startGameRound() {
            clearInterval(gameInterval);
            clearInterval(countdownInterval);
            
            // ØªÙˆÙ„ÙŠØ¯ Ù…Ø¶Ø§Ø¹Ù Ø§Ù†ÙØ¬Ø§Ø± Ø¹Ø´ÙˆØ§Ø¦ÙŠ
            targetMultiplier = generateCrashPoint();
            currentMultiplier = 1.00;
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª
            timeRemaining = Math.floor(Math.random() * 10) + 5; // Ø¨ÙŠÙ† 5 Ùˆ 15 Ø«Ø§Ù†ÙŠØ©
            
            // Ø¨Ø¯Ø£ ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ø·Ø§Ø¦Ø±Ø©
            const plane = document.getElementById('plane');
            plane.style.transition = 'left ' + timeRemaining + 's linear';
            plane.style.left = '100%';
            
            // Ø¨Ø¯Ø£ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¶Ø§Ø¹Ù
            gameInterval = setInterval(updateMultiplier, 50);
            
            // Ø¨Ø¯Ø£ Ø§Ù„Ù…Ø¤Ù‚Øª
            countdownInterval = setInterval(updateGameTimer, 1000);
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¶Ø§Ø¹Ù
        function updateMultiplier() {
            if (gameState !== 'running') return;
            
            // Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù…Ø¶Ø§Ø¹Ù
            const increment = calculateIncrement(currentMultiplier);
            currentMultiplier += increment;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶
            document.getElementById('currentMultiplier').textContent = currentMultiplier.toFixed(2) + 'x';
            document.getElementById('currentMultiplierText').textContent = currentMultiplier.toFixed(2) + 'x';
            
            // ØªØ­Ø¯ÙŠØ« Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†
            updateLiveBetsProfit();
            
            // ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø³Ø­Ø¨ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
            if (isAutoBet && currentMultiplier >= autoCashoutValue) {
                cashout();
            }
            
            // ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§Ù†ÙØ¬Ø§Ø±
            if (currentMultiplier >= targetMultiplier) {
                crash();
            }
        }

        // Ø­Ø³Ø§Ø¨ Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù…Ø¶Ø§Ø¹Ù
        function calculateIncrement(current) {
            if (current < 2) return 0.01;
            if (current < 5) return 0.005;
            if (current < 10) return 0.002;
            return 0.001;
        }

        // ØªÙˆÙ„ÙŠØ¯ Ù†Ù‚Ø·Ø© Ø§Ù†ÙØ¬Ø§Ø±
        function generateCrashPoint() {
            // Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© ÙˆØ§Ù‚Ø¹ÙŠØ©
            const r = Math.random();
            if (r < 0.05) return 1.00 + Math.random() * 0.1; // 5% Ø§Ù†ÙØ¬Ø§Ø± Ù…Ø¨ÙƒØ±
            if (r < 0.4) return 1.1 + Math.random() * 1.9;   // 35% Ø¨ÙŠÙ† 1.1 Ùˆ 3
            if (r < 0.7) return 3 + Math.random() * 2;       // 30% Ø¨ÙŠÙ† 3 Ùˆ 5
            if (r < 0.9) return 5 + Math.random() * 5;       // 20% Ø¨ÙŠÙ† 5 Ùˆ 10
            return 10 + Math.random() * 90;                  // 10% Ø¨ÙŠÙ† 10 Ùˆ 100
        }

        // Ø³Ø­Ø¨ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­
        function cashout() {
            if (gameState !== 'running' || userBet === 0) return;
            
            const profit = Math.floor(userBet * currentMultiplier);
            userBalance += profit;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³Ø¬Ù„
            crashHistory.unshift(parseFloat(currentMultiplier.toFixed(2)));
            if (crashHistory.length > 10) crashHistory.pop();
            
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø±Ù‡Ø§Ù† Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø­ÙŠØ©
            liveBets = liveBets.filter(bet => bet.username !== 'Ø£Ù†Øª');
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø³Ø§Ù„Ø©
            alert(`ØªÙ… Ø§Ù„Ø³Ø­Ø¨ Ø¹Ù†Ø¯ ${currentMultiplier.toFixed(2)}x\nØ§Ù„Ø±Ø¨Ø­: ${profit.toLocaleString()}`);
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†
            resetUserBet();
            updateDisplay();
            populateCrashHistory();
        }

        // Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„Ø·Ø§Ø¦Ø±Ø©
        function crash() {
            clearInterval(gameInterval);
            gameState = 'crashed';
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³Ø¬Ù„
            crashHistory.unshift(parseFloat(targetMultiplier.toFixed(2)));
            if (crashHistory.length > 10) crashHistory.pop();
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
            document.getElementById('currentMultiplier').textContent = targetMultiplier.toFixed(2) + 'x';
            document.getElementById('currentMultiplierText').textContent = targetMultiplier.toFixed(2) + 'x';
            
            // Ø¥Ø²Ø§Ù„Ø© Ø±Ù‡Ø§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ø°Ø§ Ù„Ù… ÙŠØ³Ø­Ø¨
            if (userBet > 0) {
                alert(`Ø§Ù†ÙØ¬Ø§Ø±! Ø§Ù„Ø·Ø§Ø¦Ø±Ø© Ø§Ù†ÙØ¬Ø±Øª Ø¹Ù†Ø¯ ${targetMultiplier.toFixed(2)}x\nØ®Ø³Ø§Ø±Ø©: ${userBet.toLocaleString()}`);
                liveBets = liveBets.filter(bet => bet.username !== 'Ø£Ù†Øª');
                resetUserBet();
            }
            
            // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¬ÙˆÙ„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©
            setTimeout(startNextRound, 3000);
            
            updateDisplay();
            populateCrashHistory();
        }

        // Ø¨Ø¯Ø£ Ø§Ù„Ø¬ÙˆÙ„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©
        function startNextRound() {
            roundId++;
            gameState = 'waiting';
            timeRemaining = 5;
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø·Ø§Ø¦Ø±Ø©
            const plane = document.getElementById('plane');
            plane.style.transition = 'none';
            plane.style.left = '-50px';
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
            document.getElementById('currentMultiplier').textContent = '1.00x';
            document.getElementById('currentMultiplierText').textContent = '1.00x';
            document.getElementById('placeBetBtn').disabled = false;
            document.getElementById('cashoutBtn').disabled = true;
            
            // Ø¨Ø¯Ø£ Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ
            startCountdown();
            updateDisplay();
        }

        // Ø¨Ø¯Ø£ Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ
        function startCountdown() {
            clearInterval(countdownInterval);
            timeRemaining = 5;
            countdownInterval = setInterval(function() {
                timeRemaining--;
                if (timeRemaining <= 0) {
                    clearInterval(countdownInterval);
                    // Ø¨Ø¯Ø£ Ø¬ÙˆÙ„Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø±Ù‡Ø§Ù† ØªÙ„Ù‚Ø§Ø¦ÙŠ
                    if (isAutoBet && userBalance >= 20) {
                        document.getElementById('betAmount').value = Math.min(100, userBalance);
                        placeBet();
                    }
                }
                updateGameTimer();
            }, 1000);
        }

        // ØªØ­Ø¯ÙŠØ« Ù…Ø¤ØªÙ…Ø± Ø§Ù„Ù„Ø¹Ø¨Ø©
        function updateGameTimer() {
            document.getElementById('gameTimer').textContent = `0:${timeRemaining.toString().padStart(2, '0')}`;
            document.getElementById('nextRoundTimer').textContent = `${timeRemaining} Ø«ÙˆØ§Ù†ÙŠ`;
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±Ù‡Ø§Ù†Ø§Øª Ø§Ù„Ø­ÙŠØ©
        function updateLiveBetsProfit() {
            liveBets.forEach(bet => {
                if (bet.username !== 'Ø£Ù†Øª') {
                    bet.profit = parseFloat((bet.bet * (currentMultiplier - 1)).toFixed(2));
                } else {
                    bet.profit = parseFloat((userBet * (currentMultiplier - 1)).toFixed(2));
                }
            });
            populateBetsTable();
        }

        // ØªØ¹Ø¨Ø¦Ø© Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø±Ù‡Ø§Ù†Ø§Øª
        function populateBetsTable() {
            const container = document.getElementById('betsTableBody');
            container.innerHTML = '';
            
            // Ø¹Ø±Ø¶ ÙÙ‚Ø· Ø£ÙˆÙ„ 8 Ø±Ù‡Ø§Ù†Ø§Øª
            liveBets.slice(0, 8).forEach(bet => {
                const row = document.createElement('div');
                row.className = 'table-row';
                
                row.innerHTML = `
                    <div>
                        ${bet.username === 'Ø£Ù†Øª' ? 
                            `<div class="user-avatar" style="background: linear-gradient(135deg, #ff9900, #ff6600);">${bet.avatar}</div>` :
                            `<div class="user-avatar">${bet.avatar}</div>`}
                        <div style="font-size: 12px; margin-top: 5px; color: ${bet.username === 'Ø£Ù†Øª' ? '#ff9900' : '#aaa'}">${bet.username}</div>
                    </div>
                    <div style="color: #00ff88; font-weight: bold;">${bet.bet.toLocaleString()}</div>
                    <div style="color: #ff9900; font-weight: bold;">${bet.profit.toLocaleString()}</div>
                `;
                
                container.appendChild(row);
            });
        }

        // ØªØ¹Ø¨Ø¦Ø© ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ÙØ¬Ø§Ø±Ø§Øª
        function populateCrashHistory() {
            const container = document.getElementById('crashHistory');
            container.innerHTML = '';
            
            crashHistory.forEach(multiplier => {
                const item = document.createElement('div');
                item.className = 'history-item';
                item.textContent = multiplier.toFixed(2) + 'x';
                container.appendChild(item);
            });
        }

        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø±Ù‡Ø§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        function resetUserBet() {
            userBet = 0;
            document.getElementById('myBet').textContent = '0';
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶
        function updateDisplay() {
            document.getElementById('totalBets').textContent = '498,567.96 â–²';
            document.getElementById('activePlayersCount').textContent = (25444 + Math.floor(Math.random() * 1000)).toLocaleString();
            
            // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
            document.body.className = `game-${gameState}`;
        }

        // Ø§Ù„Ø±Ù‡Ø§Ù† Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
        function autoBet() {
            isAutoBet = !isAutoBet;
            const btn = document.getElementById('autoBetBtn');
            
            if (isAutoBet) {
                btn.innerHTML = 'ğŸ›‘ Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ';
                btn.style.background = 'linear-gradient(135deg, #ff4444, #cc0000)';
            } else {
                btn.innerHTML = 'ğŸ”„ Ø§Ù„Ø±Ù‡Ø§Ù† Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ';
                btn.style.background = 'linear-gradient(135deg, #00ff88, #009900)';
            }
        }

        // Ù…Ø­Ø§ÙƒØ§Ø© Ø­Ø±ÙƒØ© Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†
        setInterval(function() {
            if (gameState === 'running' && Math.random() < 0.3) {
                // Ø¥Ø¶Ø§ÙØ© Ø±Ù‡Ø§Ù† Ø¹Ø´ÙˆØ§Ø¦ÙŠ
                const bets = [20, 50, 100, 200, 500, 1000, 2000, 5000];
                const betAmount = bets[Math.floor(Math.random() * bets.length)];
                const username = Math.floor(Math.random() * 90 + 10) + '******';
                
                liveBets.unshift({
                    username: username,
                    bet: betAmount,
                    profit: parseFloat((betAmount * (currentMultiplier - 1)).toFixed(2)),
                    avatar: username.substring(0, 2)
                });
                
                // Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ 8 Ø±Ù‡Ø§Ù†Ø§Øª ÙÙ‚Ø·
                if (liveBets.length > 8) {
                    liveBets = liveBets.slice(0, 8);
                }
                
                populateBetsTable();
            }
        }, 2000);

        // ØªØ­Ø¯ÙŠØ« Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø±Ù‡Ø§Ù†Ø§Øª
        setInterval(function() {
            const totalBets = document.getElementById('totalBets');
            const currentValue = parseFloat(totalBets.textContent.replace(/[^0-9.]/g, ''));
            const change = Math.random() > 0.5 ? Math.random() * 1000 : -Math.random() * 500;
            const newValue = currentValue + change;
            
            totalBets.textContent = newValue.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2}) + 
                                   (change >= 0 ? ' â–²' : ' â–¼');
            totalBets.style.color = change >= 0 ? '#00ff88' : '#ff4444';
        }, 3000);
    </script>
</body>
</html>
